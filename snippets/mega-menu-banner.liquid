{% if enable %}
<div class="mega-menu__banner mega-menu__banner--{{ number }} flex--row color-{{ block.banner_color_scheme }}" {% if block.swap_banner_position %}style="order: {{ number }};"{% endif %}>
    <{% if link != blank %}a{% else %}div{% endif %} {% if link != blank %} href="{{ link }}"{% else %} role="link" aria-disabled="true"{% endif %} class="mega-menu__banner-wrapper flex--column content--{{ block.vertical_content_position }}">
        <div class="mega-menu__banner-image aspect-ratio" {% if settings.disable_right_click %}oncontextmenu="return false"{% endif %}>
            {%- if image != blank -%}
                {%- liquid
                    assign widths = '1, 50, 75, 100, 150, 200, 300, 400, 600, 750, 1000, 1250, 1500, 1750, 2000, 2250, 2500, 2750, 3000, 3200'
                    assign img_class = "image__item"
                -%}
                {%- capture sizes -%}
                    {% if disable_max_width %}
                        (max-width: 768px) 0px, {{ max_width | divided_by: columns }}vw
                    {% else %}
                        (max-width: 768px) 0px, {{ max_width | divided_by: columns }}px
                    {% endif %}
                {%- endcapture -%}
                {% if settings.images_loading != 'disable' %}
                    <figure class="lazy-image lazy-image--{{ settings.images_loading }}" style="--asp-rat: {{ image.aspect_ratio }}">
                {% endif %}
                {{
                    image
                    | image_url: width: 1700
                    | image_tag:
                    sizes: sizes,
                    widths: widths,
                    class: img_class,
                    alt: image.alt,
                    draggable: false,
                    fetchpriority: 'low',
                    loading: loading_images,
                    onload: onload_script
                }}
                {% if settings.images_loading != 'disable' %}
                    {% if settings.images_loading != 'fade_scale' %}
                    <div class="lazy-image__preloader lazy-image__preloader-{{ settings.images_loading }}" aria-hidden="true">
                      <img 
                      alt="{{ image.alt | escape }}" 
                      src="{{ image | image_url: width: 10 }}"
                      draggable="false"
                      width="10" 
                      height="10">
                    </div>
                    {% endif %}
                </figure>
                {% endif %}
            {%- endif -%}
        </div>
        {%- if subheading != blank or heading != blank -%}
            <div class="mega-menu__banner-content{% if block.center_banner_content %} center{% endif %} flex--column">
                {% if subheading != blank %}
                    {%- liquid
                        assign uppercase_subheading = false
                        if block.subheading_style == 'section-heading' and settings.uppercase_section_headings
                            assign uppercase_subheading = true
                        elsif block.subheading_style == 'secondary-heading' and settings.uppercase_secondary_headings
                            assign uppercase_subheading = true
                        elsif block.subheading_style == 'subheading-font' and settings.uppercase_subheadings
                            assign uppercase_subheading = true
                        elsif block.subheading_style == 'body-font' and settings.uppercase_body
                            assign uppercase_subheading = true
                        elsif block.subheading_style == 'caption-font' and settings.uppercase_caption
                            assign uppercase_subheading = true
                        endif
                        -%}
                    <h6 class="mega-menu__banner-subheading {{ block.subheading_style }}{% if uppercase_subheading %} uppercase{% endif %}{% if block.subheading_style == 'subheading-font' and settings.use_heading_font_subheadings %} subheading-heading-font{% endif %}">
                        {% if block.subheading_style == 'subheading-font' and settings.bolder_subheadings_font %}<b>{% endif %}{{ subheading }}{% if block.subheading_style == 'subheading-font' and settings.bolder_subheadings_font %}</b>{% endif %}
                    </h6>
                {% endif %}
                {% if heading != blank %}
                    {%- liquid
                        assign uppercase_heading = false
                        if block.heading_style == 'section-heading' and settings.uppercase_section_headings
                            assign uppercase_heading = true
                        elsif block.heading_style == 'secondary-heading' and settings.uppercase_secondary_headings
                            assign uppercase_heading = true
                        elsif block.heading_style == 'subheading-font' and settings.uppercase_subheadings
                            assign uppercase_heading = true
                        elsif block.heading_style == 'body-font' and settings.uppercase_body
                            assign uppercase_heading = true
                        elsif block.heading_style == 'caption-font' and settings.uppercase_caption
                            assign uppercase_heading = true
                        endif
                        -%}
                    <h5 class="mega-menu__banner-heading {{ block.heading_style }}{% if uppercase_heading %} uppercase{% endif %}{% if block.heading_style == 'subheading-font' and settings.use_heading_font_subheadings %} subheading-heading-font{% endif %}">
                        {% if block.heading_style == 'subheading-font' and settings.bolder_subheadings_font %}<b>{% endif %}{{ heading }}{% if block.heading_style == 'subheading-font' and settings.bolder_subheadings_font %}</b>{% endif %}
                    </h5>
                {% endif %}
            </div>
        {%- endif -%}
    </{% if link != blank %}a{% else %}div{% endif %}>
</div>
{% endif %}